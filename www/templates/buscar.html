<ion-view view-title="Buscar" cache-view="false">

  <style type="text/css">
    /*noinspection CssUnknownTarget*/
    #img-cam {height: 64px; width: 72px; top: 6px;
      background: transparent url(img/clock-32x32-3.png) no-repeat center center}
    #btn-mosaico{padding:0; border:0}
    #listado-container > .item-icon-right{min-height: 0; padding-left: 80px}
    .textoItem {margin-top:10px;  margin-left: 10px}
    .icon-badge {vertical-align: sub; margin-top: 4px; margin-bottom: 4px; padding-top: 4px}
    .error {text-align: center; color: red}
    @media (min-width: 720px) {
      #listado-container{width: 80%; margin: 32px auto;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)}
      #contenido-listado{background-color:ghostwhite}
    }
  </style>

  <ion-nav-buttons side="left">
    <button ng-if="screenWidth < 760" class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
    <div style="margin-left: 7px">
      <span class="badge badge-calm icon-badge">{{ searchItems.length }}</span>
    </div>
  </ion-nav-buttons>

<!--
  <ion-nav-buttons side="right">
    <a id="btn-mosaico" class="button button-icon icon ion-grid"
       href="#/app/mosaico?concejo={{ concejo }}&idCategoria={{ idCategoria }}"></a>
    <button class="button button-icon icon ion-ios-search-strong" ng-click="showFilterBar()"></button>
  </ion-nav-buttons>
-->

  <ion-content id="contenido-listado">
    <div id="listado-container">

      <!--<div class="error">{{ ::error }}</div>-->

      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="search" placeholder="Buscar webcam..." ng-model="textoBusqueda">
      </label>
      <button ng-click="buscarCam(textoBusqueda)">Buscar</button>

      <div>total: {{ searchItems.length }}</div>
      <div>texto busqueda: {{ textoBusqueda }}</div>

      <a class="item item-thumbnail-left item-icon-right"
         ng-repeat="cam in searchItems track by cam[4]" href="#/app/detalle/{{ searchItems[$index][4] }}">
        <!--<img id="img-cam" ng-src="{{ cam[2] }}" class="image-webcam" fallback-src="img/imgFail.png"/>-->
        <img id="img-cam" ng-src="img/imgFail.png" class="image-webcam" fallback-src="img/imgFail.png"/>
        <div class="textoItem">
          <p>
            <span class="resalteListado"><b>&bullet; </b></span>
            <span class="textoListado">{{ cam[0] }}</span>
          </p>
          <p>
            <span class="resalteListado"><b>&bullet; </b></span>
            <span class="textoListado">Concejo: {{ cam[1] }}</span>
          </p>
        </div>
        <i class="icon ion-ios-arrow-right"></i>
        <!-- DEBUG INFO -->
        <p>Categor√≠a: {{cam[3]}}</p>
        <p>indice: {{$index}}</p>
        <p>ROWID: {{cam[4]}}</p>
        <!-- /DEBUG INFO -->
      </a>

    </div>
    <br/><br/>
  </ion-content>
</ion-view>
