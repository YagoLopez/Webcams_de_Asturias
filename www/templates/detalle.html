<!--TODO: poner advertencia: si no ser carga la imagen probar a recargar la pagina-->
<!--TODO: lazy loading de imagenes-->
<!--TODO: pasar todos los nombres de dominio a IPs para optimizar tiempos de carga-->
<ion-view view-title="Detalles">
  <ion-content>
    <style>
      .card {
        padding-top: 1px;
        padding-bottom: 1px;
        box-shadow: 0 1px 10px rgba(0, 0, 0, 0.3);
        margin-right:4%;
        margin-left:4%;
      }
      .modal{ /* full screen */
        top: 0 ;
        bottom: 0 ;
        left: 0 ;
        right: 0 ;
        width: 100% ;
      }
    </style>

    <!-- Card ------------------------------------------------------------------------------------------------------>
    <div class="list card">
      <div class="item item-image" style="height:100%; width:100%">
        <img ng-src="http://api.randomuser.me/portraits/thumb/men/1.jpg">
        <!--<img ng-src="../img/ionic.png">-->
        <!--<img ng-src="{{imagen}}">-->
        <!--<img  ng-src="{{ imagen}}" fallback-src="http://google.com/favicon.ico"/>-->
        <!--<img ng-src="http://loremflickr.com/500/500?random={{$index+1}}">-->
      </div>

      <div class="item item-body" style="font-size: small;">
          <i class="icon ion-ios-checkmark-outline" style="color:#387ef5;"></i>
          <b>Lugar: </b>{{ ::lugar }}<br>
          <i class="icon ion-ios-checkmark-outline" style="color:#387ef5;"></i>
          <b>Concejo: </b>{{ ::concejo }}<br>
          <i class="icon ion-ios-checkmark-outline" style="color:#387ef5;"></i>
          <b>Categoría: </b>{{ ::categoria }}
      </div>

      <!-- botones ------------------------------------------------------------------------------------------------->
      <div class="item item-text-wrap" style="padding-right:0;padding-left:0;">
        <div class="row">
          <div class="col">
            <md-button class="md-raised md-primary" ng-click="showModal()" style="height: 40px; width:100%">
              <i class="icon ion-arrow-expand"></i>
              Ampliar
            </md-button>
          </div>
          <div class="col">
            <md-button class="md-raised md-primary" ng-click="reload()" style="height: 40px; width:100%">
              <i class="icon ion-ios-reload"></i>
              Recargar
            </md-button>
          </div>
        </div>
      </div>
      <!-- fin botones --------------------------------------------------------------------------------------------->

    </div>
    <!-- Fin Card -------------------------------------------------------------------------------------------------->

    <!-- Tabs -------------------------------------------------------------------------------------------------------->
    <div class="card">

      <div class="item item-divider tabs tabs-icon-left">
        <a class="tab-item" ng-click="page='first'">
          <i class="icon ion-home"></i>
          Meteorología
        </a>
        <a class="tab-item tabs-color-calm" ng-click="page='second'">
          <i class="icon ion-star"></i>
          Info. Concejo
        </a>
      </div>

      <div ng-init="page='first'"></div>

      <div class="item" ng-show="page === 'first'">
        <div class="animated fadeIn">
          <img ng-src="{{::iconoUrl}}"/><br>
          Descripción: {{::descripcion}}<br>
          Temperatura: {{::temp}} ºC<br>
          Presión atmosférica: {{::presion}} HPa<br>
          Humedad relativa: {{::humedad}} %<br>
          Nubosidad: {{::nubosidad}} %<br>
          Velocidad del viento: {{::velocidadViento}} m/s<br>
          Dirección del viento: {{::direccionViento}}º<br>
        </div>
      </div>
      <div class="item-body" style="/*width:100px;overflow:visible;text-overflow:initial;white-space:normal;*/"
           ng-class="{active:active}" ng-show="page === 'second'">
        <div class="animated fadeIn">
        {{ ::infoConcejo }}
        </div>
      </div>
    </div>
    <!-- Fin Tabs ---------------------------------------------------------------------------------------------------->


    <!-- Menu inferior --------------------------------------------------------------------------------------------->
    <div class="list list-inset card">

      <a href="#/app/mapa?lugar={{::lugar}}&concejo={{::concejo}}" class="item item-stable item-icon-left item-icon-right">
        <i class="icon ion-android-pin"></i>
        Ver en Mapa
        <i class="icon ion-ios-arrow-thin-right" style="color: #387ef5;"></i>
      </a>

      <a href="#/app/streetview?lugar={{::lugar}}&concejo={{::concejo}}" class="item item-stable item-icon-left item-icon-right">
        <i class="icon ion-ios-navigate"></i>
        Ver en Street View
        <i class="icon ion-ios-arrow-thin-right" style="color: #387ef5;"></i>
      </a>

      <a href="#/app/panoramio?lugar={{::lugar}}&concejo={{::concejo}}" class="item item-stable item-icon-left item-icon-right">
        <i class="icon ion-images"></i>
        Fotos de la zona
        <i class="icon ion-ios-arrow-thin-right" style="color: #387ef5;"></i>
      </a>

    </div>
    <!-- fin Menu Inferior ----------------------------------------------------------------------------------------->

    <div id="void"></div>

<!--
        <md-button class="md-fab md-fab-bottom-right" aria-label="Add" ng-click="showAdd($event)">
          <i class="icon ion-chevron-right"></i>
        </md-button>
-->


  </ion-content>
</ion-view>
