<!--TODO: añadir geolocalicacion y busqueda de camaras cercanas-->
<ion-view view-title="{{ tituloVista }}" cache-view="false">

  <style type="text/css">
    /*noinspection CssUnknownTarget*/
    #img-cam {height: 64px; width: 72px; top: 6px;
      background: transparent url(img/clock-32x32-3.png) no-repeat center center}
    #btn-mosaico{padding:0; border:0}
    #listado-container > .item-icon-right{min-height: 0; padding-left: 80px}
    .verde{color:#28a54c}
    .textoItem {margin-top:10px;  margin-left: 10px}
    .icon-badge {vertical-align: sub; margin-top: 4px; margin-bottom: 4px; padding-top: 4px}
    .error {text-align: center; color: red; padding: 40px}
    @media (min-width: 720px) {
      #listado-container{width: 80%; margin: 32px auto;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)}
      #contenido-listado{background-color:ghostwhite}
    }
  </style>

  <ion-nav-buttons side="left">
    <button ng-if="screenWidth < 760" class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
    <div style="margin-left: 7px">
      <span class="badge badge-calm icon-badge">{{ camsPorCategoria.length }}</span>
    </div>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <a id="btn-mosaico" class="button button-icon icon ion-grid"
       href="#/app/mosaico?concejo={{ concejo }}&idCategoria={{ idCategoria }}" title="Mosaico"></a>
    <!--<button class="button button-icon icon ion-ios-search-strong" ng-click="showFilterBar()"></button>-->
    <a class="button button-icon icon ion-ios-search-strong" href="#/app/buscar" title="Buscar"></a>
  </ion-nav-buttons>

  <ion-content id="contenido-listado">
    <div id="listado-container">
      <div ng-if="error" class="error">{{ ::error }}</div>
      <a class="item item-thumbnail-left item-icon-right"
         ng-repeat="cam in camsPorCategoria track by cam[4]" href="#/app/detalle/{{ camsPorCategoria[$index][4] }}">
        <!--<img id="img-cam" ng-src="{{ cam[2] }}" class="image-webcam" fallback-src="img/imgFail.png"/>-->
        <img id="img-cam" ng-src="img/imgFail.png" class="image-webcam" fallback-src="img/imgFail.png"/>
        <div class="textoItem">
          <p><span><b class="verde">&bullet; </b> {{ cam[0] }}</span></p>
          <p><span><b class="verde">&bullet; </b> Concejo: {{ cam[1] }}</span></p>
        </div>
        <i class="icon ion-ios-arrow-right"></i>
        <!-- DEBUG INFO -->
        <!--<p>Categoría: {{cam[3]}}</p>-->
        <!--<p>indice: {{$index}}</p>-->
        <!--<p>ROWID: {{cam[4]}}</p>-->
        <!-- /DEBUG INFO -->
      </a>
    </div>
    <br/><br/>
  </ion-content>
</ion-view>
