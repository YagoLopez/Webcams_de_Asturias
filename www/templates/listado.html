<!--TODO: añadir geolocalicacion y busqueda de camaras cercanas-->
<ion-view view-title="{{ tituloVista }}">

  <style type="text/css">
    /*noinspection CssUnknownTarget*/
    .img-cam {height: 64px !important; width: 72px !important; top: 6px !important;
      background: transparent url('img/clock-32x32-3.png') no-repeat center center}
    .item-thumbnail-left {min-height: 0; padding-left: 90px; padding-top: 18px}
    .verde {color:#28a54c}
    .error {text-align: center; color: red; padding: 40px}
    .cam-counter-left {background: #11c1f3; display: block; width: 25px; text-align: center; padding: 1px;
      margin: auto 8px; border-radius: 3px}
    #btn-mosaico{padding:0; border:0}
    @media (min-width: 720px) {
      #listado-container{width: 80%; margin: 32px auto;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)}
      #contenido-listado{background-color:ghostwhite}
    }
  </style>

  <ion-nav-buttons side="left">
    <button ng-if="screenWidth < 760" class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
    <div class="cam-counter-left">{{ camsPorCategoria.length }}</div>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <a id="btn-mosaico" class="button button-icon icon ion-grid"
      href="#/app/mosaico?concejo={{ concejo }}&idCategoria={{ idCategoria }}" title="Mosaico"></a>
    <a class="button button-icon icon ion-ios-search-strong" href="#/app/buscar" title="Buscar"></a>
  </ion-nav-buttons>

  <ion-content id="contenido-listado">
    <div id="listado-container">
      <div ng-if="error" class="error">{{ ::error }}</div>
      <a class="item item-thumbnail-left item-icon-right"
        ng-repeat="cam in camsPorCategoria track by cam[4]" href="#/app/detalle/{{ camsPorCategoria[$index][4] }}">
        <img ng-src="{{ cam[2] }}" class="img-cam" fallback-src="img/imgFail.png"/>
        <!--<img ng-src="img/imgFail.png" class="img-cam" fallback-src="img/imgFail.png"/>-->
        <div>
          <p><span><b class="verde">&bullet;</b> {{ cam[0] }}</span></p>
          <p><span><b class="verde">&bullet;</b> Concejo: {{ cam[1] }}</span></p>
        </div>
        <i class="icon ion-ios-arrow-right"></i>
        <!-- DEBUG INFO -->
        <!--<p>Categoría: {{cam[3]}}</p> <p>indice: {{$index}}</p> <p>ROWID: {{cam[4]}}</p>-->
        <!-- /DEBUG INFO -->
      </a>
    </div>
    <br/><br/>
  </ion-content>
</ion-view>
